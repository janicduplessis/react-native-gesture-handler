<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.63">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-41044622-6","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="React Native Gesture Handler" href="/react-native-gesture-handler/opensearch.xml"><title data-react-helmet="true">Handler State | React Native Gesture Handler</title><meta data-react-helmet="true" name="docsearch:version" content="2.4.0,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Handler State | React Native Gesture Handler"><meta data-react-helmet="true" name="description" content="As described in &quot;About Gesture Handlers&quot;, gesture handlers can be treated as &quot;state machines&quot;."><meta data-react-helmet="true" property="og:description" content="As described in &quot;About Gesture Handlers&quot;, gesture handlers can be treated as &quot;state machines&quot;."><meta data-react-helmet="true" property="og:url" content="https://docs.swmansion.com/react-native-gesture-handler/docs/gesture-handlers/basics/state"><link data-react-helmet="true" rel="shortcut icon" href="/react-native-gesture-handler/img/SWM_Fav_192x192.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://docs.swmansion.com/react-native-gesture-handler/docs/gesture-handlers/basics/state"><link rel="stylesheet" href="/react-native-gesture-handler/styles.ac3e57d2.css">
<link rel="preload" href="/react-native-gesture-handler/styles.1dd44f58.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/runtime~main.e72b3d1f.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/main.2c298adc.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/1.e1f85f39.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/2.405c0b86.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/1be78505.122bdbbb.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/342.7b7d354e.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/3e3e2d52.9a748153.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/17896441.c548fecd.js" as="script">
<link rel="preload" href="/react-native-gesture-handler/d8eb1107.8193bef4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/react-native-gesture-handler/"><strong class="navbar__title">React Native Gesture Handler</strong></a></div><div class="navbar__items navbar__items--right"><div class="searchBarMargin_1yCl"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/react-native-gesture-handler/docs/">2.4.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/react-native-gesture-handler/docs/next/gesture-handlers/basics/state">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/react-native-gesture-handler/docs/gesture-handlers/basics/state">2.4.0</a></li><li><a class="dropdown__link" href="/react-native-gesture-handler/docs/2.3.0/gesture-handlers/basics/state">2.3.0</a></li><li><a class="dropdown__link" href="/react-native-gesture-handler/docs/2.1.1/gesture-handlers/basics/state">2.1.1</a></li><li><a class="dropdown__link" href="/react-native-gesture-handler/docs/2.0.0/gesture-handlers/basics/state">2.0.0</a></li><li><a class="dropdown__link" href="/react-native-gesture-handler/docs/1.10.3/">1.10.3</a></li></ul></div><div class="githubStarLink"><span><a href="https://github.com/software-mansion/react-native-gesture-handler" data-icon="octicon-star" data-show-count="true" aria-label="Star software-mansion/react-native-gesture-handler on GitHub">Star</a></span></div><a href="https://github.com/software-mansion/react-native-gesture-handler" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/react-native-gesture-handler/"><strong class="navbar__title">React Native Gesture Handler</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/react-native-gesture-handler/docs/next/gesture-handlers/basics/state">Next</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/react-native-gesture-handler/docs/gesture-handlers/basics/state">2.4.0</a></li><li class="menu__list-item"><a class="menu__link" href="/react-native-gesture-handler/docs/2.3.0/gesture-handlers/basics/state">2.3.0</a></li><li class="menu__list-item"><a class="menu__link" href="/react-native-gesture-handler/docs/2.1.1/gesture-handlers/basics/state">2.1.1</a></li><li class="menu__list-item"><a class="menu__link" href="/react-native-gesture-handler/docs/2.0.0/gesture-handlers/basics/state">2.0.0</a></li><li class="menu__list-item"><a class="menu__link" href="/react-native-gesture-handler/docs/1.10.3/">1.10.3</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/software-mansion/react-native-gesture-handler" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col"><div class="docItemContainer_1tAC"><article><div><span class="badge badge--secondary">Version: 2.4.0</span></div><header><h1 class="docTitle_cWlf">Handler State</h1></header><div class="markdown"><p>As described in <a href="/react-native-gesture-handler/docs/gesture-handlers/basics/about-handlers">&quot;About Gesture Handlers&quot;</a>, gesture handlers can be treated as <a href="https://en.wikipedia.org/wiki/Finite-state_machine" target="_blank" rel="noopener noreferrer">&quot;state machines&quot;</a>.
At any given time, each handler instance has an assigned state that can change when new touch events occur or can be forced to change by the touch system in certain circumstances.</p><p>A gesture handler can be in one of the six possible states:</p><ul><li><a href="#undetermined">UNDETERMINED</a></li><li><a href="#failed">FAILED</a></li><li><a href="#began">BEGAN</a></li><li><a href="#cancelled">CANCELLED</a></li><li><a href="#active">ACTIVE</a></li><li><a href="#end">END</a></li></ul><p>Each state has its own description below.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="accessing-state"></a>Accessing state<a aria-hidden="true" tabindex="-1" class="hash-link" href="#accessing-state" title="Direct link to heading">#</a></h2><p>We can monitor a handler&#x27;s state changes by using the <a href="/react-native-gesture-handler/docs/gesture-handlers/api/common-gh#onhandlerstatechange"><code>onHandlerStateChange</code></a> callback and the destructured <code>nativeEvent</code> argument passed to it.
This can be done by comparing the <code>nativeEvent</code>&#x27;s <a href="/react-native-gesture-handler/docs/gesture-handlers/api/common-gh#state"><code>state</code></a> attribute to one of the constants exported under the <code>State</code> object (see example below).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#ffffff;background-color:#001a72"><div class="token-line" style="color:#ffffff"><span class="token plain">import { State, LongPressGestureHandler } from &#x27;react-native-gesture-handler&#x27;;</span></div><div class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">class Demo extends Component {</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  _handleStateChange = ({ nativeEvent }) =&gt; {</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    if (nativeEvent.state === State.ACTIVE) {</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      Alert.alert(&#x27;Longpress&#x27;);</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    }</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  };</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  render() {</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    return (</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      &lt;LongPressGestureHandler onHandlerStateChange={this._handleStateChange}&gt;</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">        &lt;Text style={styles.buttonText}&gt;Longpress me&lt;/Text&gt;</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">      &lt;/LongPressGestureHandler&gt;</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">    );</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">  }</span></div><div class="token-line" style="color:#ffffff"><span class="token plain">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="state-flows"></a>State flows<a aria-hidden="true" tabindex="-1" class="hash-link" href="#state-flows" title="Direct link to heading">#</a></h2><p>The most typical flow of state is when a gesture handler picks up on an initial touch event then recognizes it then acknowledges its ending then resets itself back to the initial state.</p><p>The flow looks as follows (longer arrows represent that there are possibly more touch events received before the state changes):</p><p><a href="#undetermined"><code>UNDETERMINED</code></a> -&gt; <a href="#began"><code>BEGAN</code></a> ------&gt; <a href="#active"><code>ACTIVE</code></a> ------&gt; <a href="#end"><code>END</code></a> -&gt; <a href="#undetermined"><code>UNDETERMINED</code></a></p><p>Another possible flow is when a handler receives touches that cause a recognition failure:</p><p><a href="#undetermined"><code>UNDETERMINED</code></a> -&gt; <a href="#began"><code>BEGAN</code></a> ------&gt; <a href="#failed"><code>FAILED</code></a> -&gt; <a href="#undetermined"><code>UNDETERMINED</code></a></p><p>At last, when a handler does properly recognize the gesture but then is interrupted by the touch system. In that case, the gesture recognition is canceled and the flow looks as follows:</p><p><a href="#undetermined"><code>UNDETERMINED</code></a> -&gt; <a href="#began"><code>BEGAN</code></a> ------&gt; <a href="#active"><code>ACTIVE</code></a> ------&gt; <a href="#cancelled"><code>CANCELLED</code></a> -&gt; <a href="#undetermined"><code>UNDETERMINED</code></a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="states"></a>States<a aria-hidden="true" tabindex="-1" class="hash-link" href="#states" title="Direct link to heading">#</a></h2><p>The section below describes all possible handler states:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="undetermined"></a>UNDETERMINED<a aria-hidden="true" tabindex="-1" class="hash-link" href="#undetermined" title="Direct link to heading">#</a></h3><p>This is the initial state of each handler and it goes into this state after it&#x27;s done recognizing a gesture.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="failed"></a>FAILED<a aria-hidden="true" tabindex="-1" class="hash-link" href="#failed" title="Direct link to heading">#</a></h3><p>A handler received some touches but for some reason didn&#x27;t recognize them. For example, if a finger travels more distance than a defined <code>maxDist</code> property allows, then the handler won&#x27;t become active but will fail instead. Afterwards, it&#x27;s state will be reset to <code>UNDETERMINED</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="began"></a>BEGAN<a aria-hidden="true" tabindex="-1" class="hash-link" href="#began" title="Direct link to heading">#</a></h3><p>Handler has started receiving touch stream but hasn&#x27;t yet received enough data to either <a href="#failed">fail</a> or <a href="#active">activate</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cancelled"></a>CANCELLED<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cancelled" title="Direct link to heading">#</a></h3><p>The gesture recognizer has received a signal (possibly new touches or a command from the touch system controller) resulting in the cancellation of a continuous gesture. The gesture&#x27;s state will become <code>CANCELLED</code> until it is finally reset to the initial state, <code>UNDETERMINED</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="active"></a>ACTIVE<a aria-hidden="true" tabindex="-1" class="hash-link" href="#active" title="Direct link to heading">#</a></h3><p>Handler has recognized a gesture. It will become and stay in the <code>ACTIVE</code> state until the gesture finishes (e.g. when user lifts the finger) or gets cancelled by the touch system. Under normal circumstances the state will then turn into <code>END</code>. In the case that a gesture is cancelled by the touch system, its state would then become <code>CANCELLED</code>.
Learn about <a href="/react-native-gesture-handler/docs/gesture-handlers/basics/about-handlers#discrete-vs-continuous">discrete and continuous handlers here</a> to understand how long a handler can be kept in the <code>ACTIVE</code> state.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="end"></a>END<a aria-hidden="true" tabindex="-1" class="hash-link" href="#end" title="Direct link to heading">#</a></h3><p>The gesture recognizer has received touches signalling the end of a gesture. Its state will become <code>END</code> until it is reset to <code>UNDETERMINED</code>.</p></div></article></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="footer-container"><a href="https://www.swmansion.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand footer-image-link"><img class="navbar__logo" src="/react-native-gesture-handler/img/swmLogo.svg" alt="Software Mansion logo"></a><div class="githubStarLink"><span><a href="https://github.com/software-mansion/react-native-gesture-handler" data-icon="octicon-star" data-show-count="true" aria-label="Star software-mansion/react-native-gesture-handler on GitHub">Star</a></span></div></div></footer></div>
<script src="/react-native-gesture-handler/styles.1dd44f58.js"></script>
<script src="/react-native-gesture-handler/runtime~main.e72b3d1f.js"></script>
<script src="/react-native-gesture-handler/main.2c298adc.js"></script>
<script src="/react-native-gesture-handler/1.e1f85f39.js"></script>
<script src="/react-native-gesture-handler/2.405c0b86.js"></script>
<script src="/react-native-gesture-handler/1be78505.122bdbbb.js"></script>
<script src="/react-native-gesture-handler/342.7b7d354e.js"></script>
<script src="/react-native-gesture-handler/3e3e2d52.9a748153.js"></script>
<script src="/react-native-gesture-handler/17896441.c548fecd.js"></script>
<script src="/react-native-gesture-handler/d8eb1107.8193bef4.js"></script>
</body>
</html>